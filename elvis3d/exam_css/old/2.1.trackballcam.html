<!DOCTYPE html>
<html>
<head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1.0, user-scalable=no">

    <title>trackball camera</title>

    <!--<link rel="stylesheet" href="../libs/ramb3d/gbox3d.three.css"/>-->
    <script src='../libs/jquery-1.9.1.min.js'></script>
    <script src='../libs/threejs/three.js'></script>
    <script src='../libs/threejs/CSS3DRenderer.js'></script>

    <!--<script src='../libs/ramb3d/gbox3d.CSS3DRenderer.js'></script>-->
    <script src='../libs/ramb3d/core.js'></script>


</head>

<body style="margin: 0px;">

<script>

    var Smgr = new ramb3d.scene.SceneManager({
        camera : {
            fov : 45,
            far : 5000,
            near : 1,
            position : new THREE.Vector3(0, 0, 500),
            lookat : new THREE.Vector3()
        },
        renderer : {
            type : 'css3'
        }
    });


    var hyuna_plane = ramb3d.util.createPlane({

        width : 100,
        height : 150,
        texture : '../res/hyuna.jpg',
        position : new THREE.Vector3(0,75,0),
        render_type : 'css3',
        parent : Smgr.scene

    });

    var bkg_plane = ramb3d.util.createPlane({
        width : 512,
        height: 512,
        color : 'pink',
        render_type : 'css3',
        rotation :  new THREE.Euler(THREE.Math.degToRad(90),0,0),
        parent: Smgr.scene
    });

    //각도가 r60 부터 오일러형으로 바꼈다.
    //            bkg_plane.setRotationFromEuler(new THREE.Euler(THREE.Math.degToRad(90),0,0));

    //트랙볼 카메라 컨트롤러 생성
    var tbcc = Smgr.addTBCameraController(
            {
                Smgr : Smgr,
                center : new THREE.Vector3(0,0,0),
                radius : 700
            }
    );

    tbcc.setRotation(THREE.Math.degToRad(-25),0,0)
            .apply();
    Smgr.updateAll();

    //리싸이징에 대한 처리
    window.addEventListener( 'resize', onWindowResize, false );

    function onWindowResize() {

        Smgr.updateAll({
            resize : {
                width :  window.innerWidth,
                height : window.innerHeight
            }
        });

    }

</script>

</body>
</html>